; #### DO NOT EDIT THIS FILE ###################################################
; ## This file is managed by ansible. Local changes will be overwritten       ##
; ##############################################################################

;;;;;;;;;;;;;;;;;;;;;
; FPM Configuration ;
;;;;;;;;;;;;;;;;;;;;;

; All relative paths in this configuration file are relative to PHP's install
; prefix (/usr). This prefix can be dynamically changed by using the
; '-p' argument from the command line.

;;;;;;;;;;;;;;;;;;
; Global Options ;
;;;;;;;;;;;;;;;;;;

[global]
pid = run/php-fpm.pid
error_log = log/php-fpm.log
syslog.facility = daemon
syslog.ident = php-fpm
log_level = {{ php_log_level }}

;emergency_restart_threshold = 0
;emergency_restart_interval = 0

process.max = {{ php_max_processes }}

{% if php_niceness != "" %}
process.priority = {{ php_niceness }}
{% endif %}

daemonize = yes

; Set open file descriptor rlimit for the master process.
; Default Value: system defined value
rlimit_files = 1024

; Set max core size rlimit for the master process.
; Possible Values: 'unlimited' or an integer greater or equal to 0
; Default Value: system defined value
;rlimit_core = 0

events.mechanism = {{ php_events_mechanism }}
systemd_interval = 10

;;;;;;;;;;;;;;;;;;;;
; Pool Definitions ;
;;;;;;;;;;;;;;;;;;;;

include=/etc/{{ php_ver }}/fpm/php-fpm.d/*.conf
